import os
from crewai import Agent, Task, Crew
from crewai import LLM


ASSETS_DIR = os.path.abspath(os.path.join(os.path.dirname(__file__), "assets"))

colors = [
    'b', 'g', 'c', 'y', 'k', 'orange', 'purple', 'teal',
    'navy', 'lime', 'maroon', 'olive', 'aqua', 'fuchsia', 'silver', 'gray', 'brown', 'gold',
    'darkgreen', 'orchid', 'salmon', 'plum', 'turquoise', 'indigo', 'coral', 'crimson', 'khaki', 'lavender',
    'tan', 'thistle', 'wheat', 'beige', 'chartreuse', 'chocolate', 'cornflowerblue', 'cyan', 'darkblue', 'darkcyan',
    'darkgoldenrod', 'darkgray', 'darkmagenta', 'darkolivegreen', 'darkorange', 'darkorchid', 'darksalmon', 'darkred', 'darksagegreen', 'deepskyblue',
    'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'gainsboro', 'ghostwhite', 'greenyellow', 'honeydew', 'hotpink', 'ivory',
    'lawngreen', 'lemonchiffon', 'lightblue', 'lightcoral', 'lightcyan', 'lightgoldenrodyellow', 'lightgray', 'lightgreen', 'lightpink', 'lightsalmon',
    'lightseagreen', 'lightskyblue', 'lightslategray', 'lightsteelblue', 'lightyellow', 'limegreen', 'linen', 'mediumaquamarine', 'mediumblue', 'mediumorchid',
    'mediumpurple', 'mediumseagreen', 'mediumslateblue', 'mediumspringgreen', 'mediumturquoise', 'mediumvioletred', 'midnightblue', 'mintcream', 'mistyrose', 'moccasin',
    'navajowhite', 'oldlace', 'olivedrab', 'orangered', 'palegoldenrod', 'palegreen', 'paleturquoise', 'palevioletred', 'papayawhip', 'peachpuff'
]

trans_infr = ["–ü—É–±–ª–∏—á–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ê—Ä–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è —Ä–∞–∑–≤—è–∑–∫–∞",
              "–í–æ–¥–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ü–æ–¥–∑–µ–º–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ù–∞–∑–µ–º–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–¢–∞–∫—Å–∏", "–¢—Ä–∞–Ω—Å—Ñ–µ—Ä", "–¶–µ–Ω–∞"]

acc_seg = ["–¢–∏–ø –∂–∏–ª—å—è", "–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞", "–î–æ–º", "–ö–≤–∞—Ä—Ç–∏—Ä–∞", "–û—Ç–µ–ª—å", "–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞",
           "–ö–µ–º–ø–∏–Ω–≥", "–ó–µ–ª–µ–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è", "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è", "–¢–æ—Ä–≥–æ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã", "–ö–ª–∞—Å—Å —Ä–∞–π–æ–Ω–∞", "–¶–µ–Ω–∞"]

food_seg = ["–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ª–∞–Ω–¥—à–∞—Ñ—Ç—ã", "–ü—Ä–∏—Ä–æ–¥–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏", "–°–ø–æ—Ä—Ç., –º—É–∑. –∏ –¥—Ä. –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",
            "–û–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–¥—ã—Ö", "–®–æ–ø–∏–Ω–≥", "–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã", "–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã"]

rr = ["–ü—Ä–æ–¥—É–∫—Ç—ã", "–ú–µ—Å—Ç–Ω—ã–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è", "–¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è", "–¶–µ–Ω–∞", "–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ", "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏"]

other = ["–í–∏–∑–æ–≤—ã–µ —Å–±–æ—Ä—ã", "–ü–æ–ø—É–ª—è—Ä–Ω—ã–π –∫—É—Ä–æ—Ä—Ç", "–ü—Ä–∏—Ä–æ–¥–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã", "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—É—Ä–∏—Å—Ç–æ–≤"]

num_value = ["–ö–æ–ª-–≤–æ –æ—Ç–µ–ª–µ–π", "–ö–æ–ª-–≤–æ –≥–æ—Å—Ç–∏–Ω–∏—Ü", "–ö–æ–ª-–≤–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤", "–ö–æ–ª-–≤–æ –¢–¶", "–ö–æ–ª-–≤–æ –º–µ–¥. —É—á—Ä.",
             "–ö–æ–ª-–≤–æ —Å–∞–Ω–∞—Ç–æ—Ä–∏–µ–≤", "–¶–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤"]

all_factors_by_category = {
                    "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç": trans_infr,
                    "–°–µ–≥–º–µ–Ω—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏—è": acc_seg,
                    "–°–µ–≥–º–µ–Ω—Ç –æ—Ç–¥—ã—Ö–∞ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π": food_seg,
                    "–ü–∏—â–µ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç": rr,
                    "–î—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã": other
                }

report_example = """üìä –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–≥–Ω–æ–∑—É —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤ –ú–æ—Å–∫–æ–≤—Å–∫—É—é –æ–±–ª–∞—Å—Ç—å (2015‚Äì2017)

üß© –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–ü–µ—Ä–∏–æ–¥ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –Ω–∞–±–ª—é–¥–µ–Ω–∏–π: –§–µ–≤—Ä–∞–ª—å 2008 ‚Äì –î–µ–∫–∞–±—Ä—å 2014

–ü–µ—Ä–∏–æ–¥ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è: –Ø–Ω–≤–∞—Ä—å 2015 ‚Äì –î–µ–∫–∞–±—Ä—å 2017

–¢–∏–ø –º–æ–¥–µ–ª–∏: LSTM + SARIMAX —Å —ç–∫–∑–æ–≥–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ (—Ñ–∞–∫—Ç–æ—Ä—ã: –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ)

–ú–µ—Ç–æ–¥ –≤–∞—Ä—å–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–æ–≤: –ó–∞–¥–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Ä–æ—Å—Ç/—Å–Ω–∏–∂–µ–Ω–∏–µ)

üìà –û–±—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–∞
–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ –≤ –ú–æ—Å–∫–æ–≤—Å–∫—É—é –æ–±–ª–∞—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤—ã–π —Ä–æ—Å—Ç –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ 2015‚Äì2017 –≥–æ–¥–æ–≤.

–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏—Ä–æ—Å—Ç –ø–æ—Ç–æ–∫–∞ —Å–æ—Å—Ç–∞–≤–∏–ª ~6‚Äì8% –µ–∂–µ–≥–æ–¥–Ω–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ 2014 –≥–æ–¥–∞.

–ù–∞–∏–±–æ–ª—å—à–µ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞–ª–æ—Å—å –≤ –ª–µ—Ç–Ω–∏–µ –º–µ—Å—è—Ü—ã, —á—Ç–æ —Ç–∏–ø–∏—á–Ω–æ –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞ —Å —É–º–µ—Ä–µ–Ω–Ω—ã–º –∫–ª–∏–º–∞—Ç–æ–º.

üîç –§–∞–∫—Ç–æ—Ä—ã, –æ–∫–∞–∑–∞–≤—à–∏–µ –Ω–∞–∏–±–æ–ª—å—à–µ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–æ—Å—Ç –ø–æ—Ç–æ–∫–∞
–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –º–æ–¥–µ–ª–∏ –∏ –¥–∏–Ω–∞–º–∏–∫–∏ —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –≤—ã–¥–µ–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã —Ä–æ—Å—Ç–∞:

–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (Public Transport Availability)

üìà –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –∏—Ö —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–µ–ª–æ –∫ —Ä–æ—Å—Ç—É —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–∫–∞.

‚úàÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤–ª–∏—è–ª–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã—Ö –∏ –∞–≤—Ç–æ–±—É—Å–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

–¶–µ–Ω—ã –Ω–∞ –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã (Hotel Prices)

üìâ –£–º–µ—Ä–µ–Ω–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω –Ω–∞ –æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞–ª–æ –æ—Ç–¥—ã—Ö –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º.

üìä –í–ª–∏—è–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ä–µ–¥–Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ: —Å–Ω–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–ª–æ—Å—å —Ä–æ—Å—Ç–æ–º —Å–ø—Ä–æ—Å–∞.

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Å—Ç–∏–Ω–∏—Ü (Number of Hotels)

üè® –†–æ—Å—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≥–æ—Å—Ç–∏–Ω–∏—á–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤–ª–∏—è–ª –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç—å –±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—É—Ä–∏—Å—Ç–æ–≤.

üí° –û—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç –≤ –ø–µ—Ä–∏–æ–¥—ã –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.

–ò–Ω–¥–µ–∫—Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏ —Å–æ–±—ã—Ç–∏–π (Holiday Events / Marketing Score)

üéâ –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Å—Å–æ–≤—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ–π –∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π —É–ª—É—á—à–∏–ª–æ –∏–º–∏–¥–∂ —Ä–µ–≥–∏–æ–Ω–∞.

üì¢ –ü—Ä–∏–≤–ª–µ—á—ë–Ω –ø–æ—Ç–æ–∫ –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑ —Å–æ—Å–µ–¥–Ω–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤, –Ω–æ –∏ –∏–∑ –æ—Ç–¥–∞–ª—ë–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.

–¶–µ–Ω—ã –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è (Average Food Prices)

üçé –ü–æ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–Ω –Ω–∞ –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –∏–º–µ–ª–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ, –Ω–æ —É–º–µ—Ä–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç—É—Ä–ø–æ—Ç–æ–∫, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ —Ç—É—Ä–∏–∑–º–∞.

‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ç—É—Ä–∏–∑–º–∞ –≤ –ú–æ—Å–∫–æ–≤—Å–∫—É—é –æ–±–ª–∞—Å—Ç—å
–ù–∞ –æ—Å–Ω–æ–≤–µ –º–æ–¥–µ–ª–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–∫—Ç–æ—Ä–æ–≤:

1. –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å—É–±—Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏.

–í–Ω–µ–¥—Ä–∏—Ç—å –µ–¥–∏–Ω—É—é —Ü–∏—Ñ—Ä–æ–≤—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ –æ—Ç–µ–ª–µ–π.

2. –£–º–µ—Ä–µ–Ω–Ω–∞—è —Ü–µ–Ω–æ–≤–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –≤ –≥–æ—Å—Ç–∏–Ω–∏—á–Ω–æ–º —Å–µ–∫—Ç–æ—Ä–µ
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞–ª—ã—Ö –∏ —Å–µ–º–µ–π–Ω—ã—Ö –≥–æ—Å—Ç–∏–Ω–∏—Ü —á–µ—Ä–µ–∑ –ª—å–≥–æ—Ç–Ω–æ–µ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ –∏ —Å—É–±—Å–∏–¥–∏–∏.

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ ¬´–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞¬ª –¥–ª—è –±—é–¥–∂–µ—Ç–Ω—ã—Ö —Ç—É—Ä–∏—Å—Ç–æ–≤.

3. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏ —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ–π
–°–æ–∑–¥–∞–Ω–∏–µ –≥–æ–¥–æ–≤–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å–æ–±—ã—Ç–∏–π —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –º–µ–∂—Å–µ–∑–æ–Ω—å–µ.

–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –∫—É–ª—å—Ç—É—Ä–Ω–æ-—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –∏ –∏—Ö –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ.

4. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥
–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π –≤ —Ä–µ–≥–∏–æ–Ω–∞—Ö —Å –≤—ã—Å–æ–∫–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –≤—ã–µ–∑–¥–Ω–æ–≥–æ —Ç—É—Ä–∏–∑–º–∞.

–í–æ–≤–ª–µ—á–µ–Ω–∏–µ –±–ª–æ–≥–µ—Ä–æ–≤ –∏ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –≤ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Ä–µ–≥–∏–æ–Ω–∞.

5. –ö–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–Ω –∏ —Å—Ç–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ü–µ–Ω–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ç—É—Ä–∏—Å—Ç–æ–≤.

–†–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º ¬´–ì–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ —Ç—É—Ä–∏–∑–º–∞¬ª —Å —É–ø–æ—Ä–æ–º –Ω–∞ –º–µ—Å—Ç–Ω—É—é –∫—É—Ö–Ω—é.

üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:
–°–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ–≥–Ω–æ–∑—É, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –æ–±–ª–∞–¥–∞–µ—Ç –≤—ã—Å–æ–∫–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º —Ä–æ—Å—Ç–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ç—É—Ä–∏–∑–º–∞. –¶–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É—Å–∏–ª–∏—è –≤ –æ–±–ª–∞—Å—Ç–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–∏—Ç–æ–∫ —Ç—É—Ä–∏—Å—Ç–æ–≤ –∏ —É–ª—É—á—à–∏—Ç—å –æ–±—â–∏–π —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç –æ—Ç —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."""

def setup_forecast_analyzer_eng(forecast_data_summary: str):
    llm = LLM(model="ollama/gemma3", api_base="http://localhost:11434")

    # Define Agents
    analyst = Agent(
        role="Data Analyst",
        goal="Analyze tourist flow forecasting results and identify the most influential factors",
        backstory="You are a meticulous data scientist with expertise in time series forecasting and factor analysis. "
                  "You love digging into model results to understand what drives trends and how predictions are formed.",
        verbose=True,
        llm=llm
    )

    reporter = Agent(
        role="Tourism Journalist",
        goal="Write an insightful article summarizing the analysis of forecasted tourist flows",
        backstory="You specialize in reporting on travel and tourism trends. You want to inform decision-makers and the public "
                  "about what the data reveals, especially when it comes to changes in travel behavior and influencing factors.",
        verbose=True,
        llm=llm
    )

    # Define Tasks
    task1 = Task(
        description=(
            "Review the provided summary of forecasting results, identify which factors had the greatest impact on the forecast, "
            "discuss any trends, anomalies, or notable area differences, and explain how these insights can help improve future predictions."
        ),
        expected_output="A technical analysis of the forecasting output, key influencing factors, and data-driven recommendations.",
        agent=analyst,
        input=forecast_data_summary
    )

    task2 = Task(
        description=(
            "Using the analysis provided by the Data Analyst, write a concise but informative article suitable for a tourism industry newsletter. "
            "Highlight the key findings, implications for stakeholders (e.g., city planners, travel agencies), and possible future trends."
        ),
        expected_output="A well-written article summarizing the data analysis and its significance.",
        agent=reporter
    )

    # Create Crew
    crew = Crew(
        agents=[analyst, reporter],
        tasks=[task1, task2],
        verbose=True
    )

    result = crew.kickoff()

    # result is final text report from the Crew
    return result

def setup_forecast_analyzer_rus(forecast_data_summary: str):
    llm = LLM(model="ollama/gemma3", api_base="http://localhost:11434")

    analyst = Agent(
        role="–ê–Ω–∞–ª–∏—Ç–∏–∫ –¥–∞–Ω–Ω—ã—Ö",
        goal="–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –∏ –≤—ã—è–≤–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –≤–ª–∏—è—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã",
        backstory="–í—ã ‚Äî —Å–∫—Ä—É–ø—É–ª–µ–∑–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –æ–ø—ã—Ç–æ–º –≤ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –∏ —Ñ–∞–∫—Ç–æ—Ä–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ. "
                  "–í–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è –≥–ª—É–±–æ–∫–æ –∏–∑—É—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–¥–µ–ª–µ–π, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç—Ä–µ–Ω–¥—ã –∏ –∫–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ–≥–Ω–æ–∑—ã.",
        verbose=True,
        llm=llm
    )

    reporter = Agent(
        role="–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç –ø–æ —Ç—É—Ä–∏–∑–º—É",
        goal="–ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é —Å—Ç–∞—Ç—å—é, –æ–±–æ–±—â–∞—é—â—É—é –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã—Ö —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤",
        backstory="–í—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç–µ—Å—å –Ω–∞ —Ä–µ–ø–æ—Ä—Ç–∞–∂–∞—Ö –æ —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è—Ö –≤ —Å—Ñ–µ—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –∏ —Ç—É—Ä–∏–∑–º–∞. "
                  "–í—ã —Ö–æ—Ç–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ —à–∏—Ä–æ–∫—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –æ —Ç–æ–º, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, "
                  "–æ—Å–æ–±–µ–Ω–Ω–æ –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∏ —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤–ª–∏—è–Ω–∏—è.",
        verbose=True,
        llm=llm
    )

    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–¥–∞—á–∏
    task1 = Task(
        description=(
            "–ò–∑—É—á–∏—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ —Ä–µ–∑—é–º–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–∫–∞–∑–∞–ª–∏ –Ω–∞–∏–±–æ–ª—å—à–µ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≥–Ω–æ–∑, "
            "–æ–±—Å—É–¥–∏—Ç–µ —Ç—Ä–µ–Ω–¥—ã, –∞–Ω–æ–º–∞–ª–∏–∏ –∏–ª–∏ –∑–Ω–∞—á–∏–º—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –æ–±—ä—è—Å–Ω–∏—Ç–µ, –∫–∞–∫ —ç—Ç–∏ –≤—ã–≤–æ–¥—ã –º–æ–≥—É—Ç –ø–æ–º–æ—á—å —É–ª—É—á—à–∏—Ç—å –±—É–¥—É—â–∏–µ –ø—Ä–æ–≥–Ω–æ–∑—ã."
        ),
        expected_output="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤–ª–∏—è–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö.",
        agent=analyst,
        input=forecast_data_summary
    )

    task2 = Task(
        description=(
            "–ò—Å–ø–æ–ª—å–∑—É—è –∞–Ω–∞–ª–∏–∑, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø–∏—à–∏—Ç–µ –∫—Ä–∞—Ç–∫—É—é, –Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–∞—Ç—å—é, –ø–æ–¥—Ö–æ–¥—è—â—É—é –¥–ª—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏. "
            "–í—ã–¥–µ–ª–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–≤, —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∞–≥–µ–Ω—Ç—Å—Ç–≤) –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –±—É–¥—É—â–∏–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏."
        ),
        expected_output="–•–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è, –æ–±–æ–±—â–∞—é—â–∞—è –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –µ–≥–æ –∑–Ω–∞—á–∏–º–æ—Å—Ç—å.",
        agent=reporter
    )

    crew = Crew(
        agents=[analyst, reporter],
        tasks=[task1, task2],
        verbose=True
    )

    result = crew.kickoff()
    return result